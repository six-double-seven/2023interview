# 符号表

符号表的一种结构设计如下。

![符号表的结构设计](images\符号表的结构设计.png)



### 1. 符号表总表(SYNBL)

| NAME | TYP                             | CAT                                                    | ADDR                                                         |
| ---- | ------------------------------- | ------------------------------------------------------ | ------------------------------------------------------------ |
| 名字 | 类型信息，指向一个类型表(TYPEL) | 种类，表示的是语义信息，包括：函数、常量、类型、域名等 | 所存的值在内存中的位置，可以指向函数表、常量表、长度表、活动记录表等 |

### 2. 类型表(TYPEL)

| TVAL                                                 | TPOINT                                   |
| ---------------------------------------------------- | ---------------------------------------- |
| 类码，包括整型、实型、字符型、布尔型、数组型、结构型 | 对于复杂的类型，该位置指向数组表、结构表 |

### 3. 数组表(AINFL)

| LOW        | UP         | CTP                                                    | CLEN                         |
| ---------- | ---------- | ------------------------------------------------------ | ---------------------------- |
| 数组的下界 | 数组的上界 | 成分类型指针，数组中值的类型是什么，指向类型表中的一项 | 这个成分类型的数据所占的长度 |



### 4. 函数表(FINFL)

| OFF                                    | DAT                             | FN                   | PAR              | ENT                  |
| -------------------------------------- | ------------------------------- | -------------------- | ---------------- | -------------------- |
| 该函数的值单元地址，通常是返回值的地址 | 数据区，指向该过程/函数的数据区 | 形式参数个数，为整数 | 指针，指向形参表 | 该函数目标程序首地址 |

### 5. 其它表

![符号表-其他表](images\符号表-其他表.png)



### 6. 符号表的构造过程

![符号表的构造过程](images\符号表的构造过程.png)