# 操作系统概念-第7版

# 1.进程

## 1.1 概念

### a. 进程

- 进程是执行中的程序；

- 进程包括**程序代码段**(文本段、代码段)、**数据段**(包括全局变量)、**堆**(进程运行期间动态分配的内存)、**栈段**(临时数据)；
- 进程还包括当前活动，通过**程序计数器**的值和**cpu寄存器**的内容表示。

![内存中的进程](images\内存中的进程.png)

### b. 程序 & 进程

- 程序只是被动实体，如存储在磁盘上包含一系列指令的文件内容（常被称为可执行文件)；
- 进程是活动实体，它有一个程序计数器用来表示下一个要执行的命令和相关资源集合。



### c. 进程状态

![进程状态图](images\进程状态图.png)

### d. 进程控制块(PCB)

每个进程在操作系统内用进程控制块( process control block，PCB，也称为任务控制块)，它包含许多与一个特定进程相关的信息，比如

- 进程状态

- 程序计数器：计数器表示进程要执行的下个指令的地址。

- CPU寄存器

  - CPU的状态信息存储于CPU中的各种寄存器中，CPU在运行时，许多信息放在寄存器中，当CPU被中断时，所有的CPU信息应从寄存器保存到PCB中，以便该进程重新执行时，能从断点继续执行。

  - CPU中主要有六类寄存器：指令寄存器（IR）、程序计数器（PC）、地址寄存器（AR）、数据寄存器（DR）、累加寄存器（AC）、程序状态字寄存器（PSW）
  - 与程序计数器一起，这些状态信息在出现中断时也需要保存，以便进程以后能正确地继续执行

- CPU调度信息：这类信息包括进程优先级、调度队列的指针和其他调度参数

- 内存管理信息：根据操作系统所使用的内存系统，这类信息包括基址和界限奇仔器的值、页表或段表

![PCB](images\PCB.png)

### e. cpu在进程之间切换

![cpu在进程之间切换](images\cpu在进程之间切换.png)

## 1.2 进程调度