>注意

- 等面试官把题目描述清楚后再进行回答，可以等面试官说完之后等几秒再回答，给自己预留更多的时间。
- 不要听到问题很熟悉就着急回答，刚刚听录音你甚至有一次抢答了 怎么回事！
- 不许打断任何人讲话！！！！

# 1. [线程同步的方式](https://cloud.tencent.com/developer/article/1508606)

🙋 **我** ：线程同步是两个或多个共享关键资源的线程的并发执行。应该同步线程以避免关键资源的使用冲突。操作系统一般有下面三种线程同步的方式：

- **互斥量(Mutex)** ：采用互斥对象机制，只有拥有互斥对象的线程才有访问公共资源的权限。因为互斥对象只有一个，所以可以保证公共资源不会被多个线程同时访问。比如 Java 中的 synchronized 关键词和各种 Lock 都是这种机制。
- **信号量(Semphares)** ：它允许同一时刻多个线程访问同一资源，但是需要控制同一时刻访问此资源的最大线程数量。
- **事件(Event)** :Wait/Notify：通过通知操作的方式来保持多线程同步，还可以方便的实现多线程优先级的比较操作。

# 2. 同步和异步

>概念

- 同步：同步是指一个进程在执行某个请求的时候，如果该请求需要一段时间才能返回信息，那么这个进程会一直等待下去，直到收到**返回信息**才继续向下执行；
- 异步：异步是指在未拿到返回信息的时候，进程不需要一直等待下去，而是继续执行下面的操作。当有信息返回的时候会通知进程进行处理，提高了执行效率。

>同步与异步适用的场景 

- 如果请求的返回信息数据是程序继续执行必须依赖的数据，则必须选择同步，反之异步；

- **同步**：应用程序往下执行时处理来自服务器请求的数据，那么必须等这个数据返回才可以，必须使用同步；
- **异步**：发送邮件的时候，采用异步发送就可以，因为不论花了多长时间，对方能收到就好。

# 3. 什么是并发

- **高并发**（High Concurrency）是一种系统运行过程中遇到的一种“**短时间**内遇到**大量操作请求**”的情况，(如12306的抢票情况、双十一活动)，该情况的发生会导致系统在这段时间内执行大量操作，包括对资源的请求，数据库的操作等。

- 高并发的处理指标

  - **响应时间**(Response Time)

    系统对请求做出响应的时间。例如系统处理一个HTTP请求需要200ms，这个200ms就是系统的响应时间

  - **吞吐量**(Throughput）

    吞吐量：单位时间内处理的请求数量。

  - **每秒查询率QPS**（Query Per Second）

        QPS：每秒响应请求数。

  - **并发用户数**

    并发用户数：在保证系统功能正常的情况下，所能承载的最大用户数量。

# 4. 并发和异步

> 并发

- 强调任务的同时处理；
- 并发指同一时间进行收发数据的行为，比如支持每秒十万并发，指一秒就可以完成对十万个客户端的数据收发处理。

> 异步

- 强调任务的异步执行，请求发出后继续向下执行，不需要等待返回值；

>并发和异步

- 并发是一种需求，表示有很多业务活动同时进行；

- 异步是一种代码编写方式，一般用在被动处理上；

- 一般所说的并发，指的是【每个业务活动频率很低，但是有大量同时进行的业务活动】

  这样用异步代码自己维护每个业务状态，而不劳驾系统通过线程/进程的方式维护每个业务状态的方式，能把这个场景实现得性能更好，内存占用更少。

  如果业务活动频率又高，又同时大量进行，那就超出异步的解决范围了。那是分布式处理的范畴。

# 5. [NOSQL 和 SQL](https://cloud.tencent.com/developer/article/1784274)

## 5.1 关系型数据库（SQL）

>定义

- 关系型数据库指的是使用关系模型（二维表格模型）来组织数据的数据库

>常见的关系型数据库

Oracle、MySql、SQL Server 、SQLite 、PostgreSQL、IBM DB2 

> 关系型数据库的优势：

1.  采用二维表结构非常贴近正常开发逻辑;
2.  支持通用的SQL（结构化查询语言）语句，支持连联表查询；
3. 可以减少数据冗余和数据不一致的问题，并且全部由表结构组成，文件格式一致； 
4.  关系型数据库提供对**事务**的支持，能保证系统中事务的正确执行，同时提供事务的恢复、回滚、并发控制和死锁问题的解决。

> 关系型数据库存在的不足:

- 随着数据日益增多，因此关系型数据库面对海量的数据会存在很多的不足。

1.  **高并发**时读写能力差：因为一台数据库的最大连接数有限，且硬盘 I/O 有限，不能满足很多人同时连接。 
2.  **海量数据**情况下读写效率低：对大数据量的表进行读写操作时，需要等待较长的时间等待响应。 
3.  数据模型**灵活度低**：关系型数据库的数据模型定义严格，无法快速容纳新的数据类型。

## 5.2 非关系型数据库（NOSQL）

>定义

- 非关系型数据库又被称为 NoSQL（Not Only SQL )，意为不仅仅是 SQL。通常指数据以**对象**的形式存储在数据库中，而对象之间的关系通过每个对象自身的属性来决定，常用于存储**非结构化**的数据。 

> 常见的NOSQL数据库

1.  键值数据库：Redis、Memcached、Riak 
2.  列族数据库：Bigtable、HBase、Cassandra 
3.  文档数据库：MongoDB、CouchDB、MarkLogic 
4.  图形数据库：Neo4j、InfoGrid 

> 非关系型数据库的优势

1. 处理海量数据时速度快且成本低，支持高并发和高稳定性；
2. **存储格式的多样化**：非关系型数据库存储数据的格式可以是 key-value 形式、文档形式、图片形式等。使用灵活，应用场景广泛，而关系型数据库则只支持基础类型。 
3.  速度快，效率高：NoSQL 可以使用硬盘或者随机存储器作为载体，而关系型数据库只能使用硬盘。 

> 非关系型数据库存在的不足:

1.  非关系型数据库**不支持通用的SQL**（结构化查询语言）语句，学习和使用成本较高。 
2.  非关系数据库**没有事务**处理，无法保证数据的完整性和安全性。适合处理海量数据，但是不一定安全。 
3.  功能没有关系型数据库完善。 
4.  复杂表关联查询不容易实现。

# 6. [跨域问题](https://zhuanlan.zhihu.com/p/425855609)

>浏览器的同源策略

- 所谓同源（即指在同一个域）就是两个页面具有相同的协议（protocol），主机（host）和端口号（port）；

- 同源策略（Sameoriginpolicy）是一种约定，它是浏览器最核心也最基本的安全功能；
- 同源策略会阻止一个域的javascript脚本和另外一个域的内容进行交互。

> 为什么会出现跨域问题

- 浏览器从一个域名的网页去请求另一个域名的资源时，域名、端口、协议有一个不同，都是跨域。
- 在前后端分离的模式下，前后端的域名是不一致的，此时就会发生跨域访问问题。

# 7. [七层体系模型](https://javaguide.cn/cs-basics/network/osi&tcp-ip-model.html#osi-%E4%B8%83%E5%B1%82%E6%A8%A1%E5%9E%8B)

# 8. http的状态码

- 响应分为以下5类

| 分类 | 分类描述                                       |
| :--- | :--------------------------------------------- |
| 1**  | 信息，服务器收到请求，需要请求者继续执行操作   |
| 2**  | 成功，操作被成功接收并处理                     |
| 3**  | 重定向，需要进一步的操作以完成请求             |
| 4**  | 客户端错误，请求包含语法错误或无法完成请求     |
| 5**  | 服务器错误，服务器在处理请求的过程中发生了错误 |

- 状态码列表

| 状态码 | 状态码英文名称                  | 中文描述                                                     |
| :----- | :------------------------------ | :----------------------------------------------------------- |
| 100    | Continue                        | 继续。客户端应继续其请求                                     |
| 101    | Switching Protocols             | 切换协议。服务器根据客户端的请求切换协议。只能切换到更高级的协议，例如，切换到HTTP的新版本协议 |
| 200    | OK                              | 请求成功。一般用于GET与POST请求                              |
| 201    | Created                         | 已创建。成功请求并创建了新的资源                             |
| 202    | Accepted                        | 已接受。已经接受请求，但未处理完成                           |
| 203    | Non-Authoritative Information   | 非授权信息。请求成功。但返回的meta信息不在原始的服务器，而是一个副本 |
| 204    | No Content                      | 无内容。服务器成功处理，但未返回内容。在未更新网页的情况下，可确保浏览器继续显示当前文档 |
| 205    | Reset Content                   | 重置内容。服务器处理成功，用户终端（例如：浏览器）应重置文档视图。可通过此返回码清除浏览器的表单域 |
| 206    | Partial Content                 | 部分内容。服务器成功处理了部分GET请求                        |
| 300    | Multiple Choices                | 多种选择。请求的资源可包括多个位置，相应可返回一个资源特征与地址的列表用于用户终端（例如：浏览器）选择 |
| 301    | Moved Permanently               | 永久移动。请求的资源已被永久的移动到新URI，返回信息会包括新的URI，浏览器会自动定向到新URI。今后任何新的请求都应使用新的URI代替 |
| 302    | Found                           | 临时移动。与301类似。但资源只是临时被移动。客户端应继续使用原有URI |
| 303    | See Other                       | 查看其它地址。与301类似。使用GET和POST请求查看               |
| 304    | Not Modified                    | 未修改。所请求的资源未修改，服务器返回此状态码时，不会返回任何资源。客户端通常会缓存访问过的资源，通过提供一个头信息指出客户端希望只返回在指定日期之后修改的资源 |
| 305    | Use Proxy                       | 使用代理。所请求的资源必须通过代理访问                       |
| 306    | Unused                          | 已经被废弃的HTTP状态码                                       |
| 307    | Temporary Redirect              | 临时重定向。与302类似。使用GET请求重定向                     |
| 400    | Bad Request                     | 客户端请求的语法错误，服务器无法理解                         |
| 401    | Unauthorized                    | 请求要求用户的身份认证                                       |
| 402    | Payment Required                | 保留，将来使用                                               |
| 403    | Forbidden                       | 服务器理解请求客户端的请求，但是拒绝执行此请求               |
| 404    | Not Found                       | 服务器无法根据客户端的请求找到资源（网页）。通过此代码，网站设计人员可设置"您所请求的资源无法找到"的个性页面 |
| 405    | Method Not Allowed              | 客户端请求中的方法被禁止                                     |
| 406    | Not Acceptable                  | 服务器无法根据客户端请求的内容特性完成请求                   |
| 407    | Proxy Authentication Required   | 请求要求代理的身份认证，与401类似，但请求者应当使用代理进行授权 |
| 408    | Request Time-out                | 服务器等待客户端发送的请求时间过长，超时                     |
| 409    | Conflict                        | 服务器完成客户端的 PUT 请求时可能返回此代码，服务器处理请求时发生了冲突 |
| 410    | Gone                            | 客户端请求的资源已经不存在。410不同于404，如果资源以前有现在被永久删除了可使用410代码，网站设计人员可通过301代码指定资源的新位置 |
| 411    | Length Required                 | 服务器无法处理客户端发送的不带Content-Length的请求信息       |
| 412    | Precondition Failed             | 客户端请求信息的先决条件错误                                 |
| 413    | Request Entity Too Large        | 由于请求的实体过大，服务器无法处理，因此拒绝请求。为防止客户端的连续请求，服务器可能会关闭连接。如果只是服务器暂时无法处理，则会包含一个Retry-After的响应信息 |
| 414    | Request-URI Too Large           | 请求的URI过长（URI通常为网址），服务器无法处理               |
| 415    | Unsupported Media Type          | 服务器无法处理请求附带的媒体格式                             |
| 416    | Requested range not satisfiable | 客户端请求的范围无效                                         |
| 417    | Expectation Failed              | 服务器无法满足Expect的请求头信息                             |
| 500    | Internal Server Error           | 服务器内部错误，无法完成请求                                 |
| 501    | Not Implemented                 | 服务器不支持请求的功能，无法完成请求                         |
| 502    | Bad Gateway                     | 作为网关或者代理工作的服务器尝试执行请求时，从远程服务器接收到了一个无效的响应 |
| 503    | Service Unavailable             | 由于超载或系统维护，服务器暂时的无法处理客户端的请求。延时的长度可包含在服务器的Retry-After头信息中 |
| 504    | Gateway Time-out                | 充当网关或代理的服务器，未及时从远端服务器获取请求           |
| 505    | HTTP Version not supported      | 服务器不支持请求的HTTP协议的版本，无法完成处理               |