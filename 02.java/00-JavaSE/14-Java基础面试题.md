# Java面试题

# 1.什么是字节码

>定义

Java源代码经过虚拟机编译器编译后产⽣的⽂件（即扩展为.class的⽂件），它不⾯向任何特定的处理器，只⾯向虚拟机。

>好处

Java语⾔通过字节码的⽅式，在⼀定程度上解决了传统解释型语⾔执行效率低的问题，同时⼜保留了解释型语⾔可移植的特点。所以Java程序运⾏时⽐较⾼效，⽽且，由于字节码并不专对⼀种特定的机器，因此，Java程序⽆须重新编译便可在多种不同的计算机上运⾏。

>字节码转换为机器码

 JVM 类加载器首先加载字节码文件，通过解释器逐行解释执行，这种方式的执行速度会相对比较慢。因此对于经常被调用的方法和代码块即热点代码会使用JIT即时编译器处理， JIT（just-in-time compilation） 编译器属于运行时编译，当 JIT 编译器完成第一次编译后，其会将字节码对应的机器码保存下来，下次可以直接使用。机器码的运行效率肯定是高于 Java 解释器的。因此Java 是编译与解释共存的语言。

# 2.final

⽤于修饰类、属性和⽅法；

被final修饰的类不可以被继承

被final修饰的⽅法不可以被重写

被final修饰的变量不可以被改变，被final修饰不可变的是变量的引⽤，⽽不是引⽤指向的内容，引⽤指向的内容是可以改变的

# 3.final finally finalize区别

- final可以修饰类、变量、⽅法，修饰类表示该类不能被继承、修饰⽅法表示该⽅法不能被重写、修饰变量表示该变量是⼀个常量不能被重新赋值。
- finally⼀般作⽤在try-catch代码块中，在处理异常的时候，通常我们将⼀定要执⾏的代码⽅法finally代码块中，表示不管是否出现异常，该代码块都会执⾏，⼀般⽤来存放⼀些关闭资源的代码。
- finalize是⼀个⽅法，属于Object类的⼀个⽅法，⽽Object类是所有类的⽗类，该⽅法⼀般由垃圾回收器来调⽤，当我们调⽤System.gc() ⽅法的时候，由垃圾回收器调⽤finalize()，回收垃圾，⼀个对象是否可回收的最后判断。

# 4. static存在的意义

- static的主要意义是在于创建**独⽴于具体对象**的域变量或者⽅法。以致于即使没有创建对象，也能使⽤属性和调⽤⽅法
- static关键字还有⼀个⽐较关键的作⽤就是 **⽤来形成静态代码块以优化程序性能**。static块可以置于类中的任何地⽅，类中可以有多个static块。在类初次被加载的时候，会按照static块的顺序来执⾏每个static块，并且只会执⾏⼀次，在一定程度上优化了程序性能

# 5.static应用场景

- 修饰类【只能修饰内部类也就是静态内部类】
- 修饰成员变量 
- 修饰成员⽅法
- 静态代码块
- 静态导包

# 6.什么是多态

- 所谓多态就是指程序中定义的**引⽤变量**所指向的**具体类型**和通过**该引⽤变量发出的⽅法调⽤**在编程时并不确定，⽽是在程序运⾏期间才确定，即⼀个引⽤变量到底会指向哪个类的实例对象，该引⽤变量发出的⽅法调⽤到底是哪个类中实现的⽅法，必须在由程序运⾏期间才能决定。
- 因为在程序运⾏时才确定具体的类，这样，不⽤修改源程序代码，就可以让引⽤变量绑定到各种不同的类实现上，从⽽导致该引⽤调⽤的具体⽅法随之改变，即不修改程序代码就可以改变程序运⾏时所绑定的具体代码，让程序可以选择多个运⾏状态，这就是多态性。
- 多态分为编译时多态和运⾏时多态。其中编译时多态是静态的，主要是指⽅法的重载，它是根据参数列表的不同来区分不同的函数，通过编译之后会变成两个不同的函数，在运⾏时谈不上多态。⽽运⾏时多态是动态的，它是通过动态绑定来实现的，也就是我们所说的多态性。

# 7.java如何实现多态

Java实现多态有三个必要条件：**继承、重写、向上转型**。

- 继承：在多态中必须存在有继承关系的⼦类和⽗类。
- 重写：⼦类对⽗类中某些⽅法进⾏重新定义，在调⽤这些⽅法时就会调⽤⼦类的⽅法。
- 向上转型：在多态中需要将**⼦类的引⽤赋给⽗类对象，**只有这样该引⽤才可以既能调⽤⽗类的⽅法也可以调用⼦类的⽅法。

只有满⾜了上述三个条件，我们才能够在同⼀个继承结构中使⽤统⼀的逻辑代码处理不同的对象，从⽽达到执⾏不同的⾏为。

# 8.面向对象五大基本原则

- 单一职责
- 开闭原则
- 里氏替换原则
- 依赖倒置原则
- 接口分离原则

# 9.依赖传递的3种方式

- 构造方法
- setter
- 接口传递

# 10.抽象类和接口的区别

抽象类是对类的抽象，是⼀种模板设计，主要用于有亲缘关系的对象

接⼝是⾏为的抽象，是⼀种⾏为的规范，适合为没有关系的类提供通用的功能

比如飞机和鸟都会飞，飞应该定义为接口而不是抽象类。

# 11.调用子类构造方法之前会先调用父类没有参数的构造方法，其目的是

- 帮助子类初始化工作

# 12.定义一个不做事且没有参数的构造方法的作用

Java程序在执⾏⼦类的构造⽅法之前，如果没有⽤super()来调⽤⽗类特定的构造⽅法，则会调⽤⽗类中“没有参数的构造⽅法”。

因此，如果⽗类中只定义了有参数的构造⽅法，⽽在⼦类的构造⽅法中⼜没有⽤super()来调⽤⽗类中特定的构造⽅法，则编译时将发⽣错误，因为Java程序在⽗类中找不到没有参数的构造⽅法可供执⾏。出现以上情况的解决办法是在⽗类⾥加上无参构造

# 13.内部类的分类

匿名内部类

静态内部类

成员内部类

局部内部类

# 14.内部类的优点

⼀个内部类对象可以访问创建它的外部类对象的内容，包括私有数据！

内部类不会被同⼀包的其他类所⻅，具有很好的封装性；

内部类有效实现了“多重继承”，优化 java 单继承的缺陷。

匿名内部类可以很⽅便的定义回调。

# 15.内部类的应用场景

- 当某个类除了它的外部类，不再被其他的类使⽤时
- 适当使⽤内部类，使得代码更加灵活和富有扩展性。

# 16.BIO,NIO,AIO

- BIO (Blocking I/O): 同步阻塞I/O模式，数据的读取写⼊必须阻塞在⼀个线程内等待其完成。在活动连接数不是特别⾼的情况下，这种模型是⽐较不错的，但是，当⾯对⼗万甚⾄百万级连接的时候，传统的 BIO模型是⽆能为⼒的。
- NIO (New I/O): NIO是⼀种同步⾮阻塞的I/O模型，在Java 1.4 中引⼊了NIO框架，对应 java.nio 包，提供了 Channel , Selector，Buffer等抽象。NIO提供了与传统BIO模型中的 Socket 和 ServerSocket 相对应的 SocketChannel 和 ServerSocketChannel 两种不同的套接字通道实现,两种通道都⽀持阻塞和⾮阻塞两种模式。
- AIO (Asynchronous I/O): AIO 也就是 NIO2。是异步⾮阻塞的IO模型。异步 IO 是**基于事件和回调机制**实现的，也就是应⽤操作之后会直接返回，不会堵塞在那⾥，当后台处理完成，操作系统会通知相应的线程进⾏后续的操作。

# 17.同步、异步、阻塞、非阻塞

>综述

同步/异步，关注的是**能不能同时工作**

阻塞/非阻塞，关注的是**能不能动**

>同步 & 异步

- 同步：多个事物不能同时工作，只能依次排队进行
- 异步：多个事物可以同时工作，不用依次进行

>阻塞 & 非阻塞

- 阻塞：线程需要停止等待
-  非阻塞：线程可以运行工作

>不同的组合形式

- 同步阻塞：不能同时工作，也不能动。比如只有一条小道，一次只能过一辆车，可悲的是都堵上了。
- 同步非阻塞，不能同时开工，但可以动。比如只有一条小道，一次只能过一辆车，幸运的是可以正常通行。
- 异步阻塞，可以同时开工，但不可以动。有多条路，每条路都可以跑车，可气的是全都堵上了。
- 异步非阻塞，可以工时开工，也可以动。有多条路，每条路都可以跑车，很爽的是全都可以正常通行。

# 18.什么是反射

JAVA反射机制是在运⾏状态中，

对于任意⼀个类，都能够知道这个类的所有属性和⽅法；

对于任意⼀个对象，都能够调⽤它的任意⼀个⽅法和属性；

这种动态获取类的信息信息以及动态调⽤对象的⽅法的功能称为java语⾔的反射机制。

# 19.反射机制的优缺点

**优点：** 在运⾏期间动态加载类，提⾼代码灵活度。

**缺点：** 性能瓶颈：反射相当于⼀系列解释操作，通知 JVM 要做的事情，性能⽐直接的java代码要慢很多。

# 20.反射的应用场景

- 使⽤JDBC连接数据库时使⽤class.forName()通过反射加载数据库的驱动程序
- Spring框架通过 XML 配置模式装载 Bean 的过程使用了反射
  - 将程序内所有 XML 或 Properties 配置⽂件加载⼊内存中; 
  - Java类⾥⾯解析xml或properties⾥⾯的内容，得到对应实体类的字节码字符串以及相关的属性信息; 
  - 使⽤反射机制，根据这个字符串获得某个类的Class实例; 
  - 动态配置实例的属性
- 反编译





